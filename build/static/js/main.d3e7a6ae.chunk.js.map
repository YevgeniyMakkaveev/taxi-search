{"version":3,"sources":["table/maker/index.js","table/maker/maker.js","spinner/index.js","spinner/spinner.js","table/index.js","table/table.js","error/index.js","error/error.js","errorBound/index.js","errorBound/errorBound.js","app/App.js","index.js"],"names":["TableMaker","props","useState","selectModel","setSelect","tableEvents","onClick","e","column","columnIndex","row","rowIndex","test","getTarif","markModel","colN","comfy","comfyPlus","biz","eco","mini","stand","light","columns","dataField","text","sort","events","style","cursor","options","sizePerPage","alwaysShowAllBtns","sizePerPageList","value","pageButtonRenderer","page","active","onPageChange","disable","title","activeStyle","backgroundColor","color","className","href","preventDefault","MySearch","input","handleClick","onSearch","type","onChange","ref","n","placeholder","id","items","data","selectdCar","keyField","bootstrap4","pagination","paginationFactory","search","searchProps","baseProps","CustomSpinner","CustomTable","error","setError","isLoaded","setIsLoaded","setItems","useEffect","fetch","then","res","json","result","cars","innerId","message","items2","map","tariffs","year","mark","model","ErrorMsg","ErrorBoundry","state","this","setState","children","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3e7a6ae.chunk.js","sourcesContent":["import TableMaker from \"./maker\";\r\nexport default TableMaker","import React, { useState } from 'react'\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport './maker.css'\r\nconst TableMaker = (props) => {\r\n  const [selectModel, setSelect] = useState(null)\r\n\r\n  const tableEvents = {\r\n    onClick: (e, column, columnIndex, row, rowIndex) => {\r\n      let test = getTarif(row, columnIndex)\r\n      if (test > 1) { setSelect(`${row.markModel} ${test} `) }\r\n    }\r\n  }\r\n\r\n  const getTarif = (row, colN) => {\r\n    switch (colN) {\r\n      case 1: return row.comfy\r\n      case 2: return row.comfyPlus\r\n      case 3: return row.biz\r\n      case 4: return row.eco\r\n      case 5: return row.mini\r\n      case 6: return row.stand\r\n      case 7: return row.light\r\n      default: return null\r\n    }\r\n  }\r\n\r\n  const columns = [{\r\n    dataField: 'markModel',\r\n    text: 'Марка и модель',\r\n    sort: true,\r\n  }, {\r\n    dataField: 'comfy',\r\n    text: 'Комфорт',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'comfyPlus',\r\n    text: 'Комфорт+',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'biz',\r\n    text: 'Бизнес',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'eco',\r\n    text: 'Эконом',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'mini',\r\n    text: 'Минивен',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'stand',\r\n    text: 'Стандарт',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }, {\r\n    dataField: 'light',\r\n    text: 'Лайт',\r\n    events: tableEvents,\r\n    style: {\r\n      cursor: `pointer`\r\n    }\r\n  }];\r\n\r\n  const pageButtonRenderer = ({\r\n    page,\r\n    active,\r\n    disable,\r\n    title,\r\n    onPageChange\r\n  }) => {\r\n    const handleClick = (e) => {\r\n      e.preventDefault();\r\n      onPageChange(page);\r\n    };\r\n\r\n    const activeStyle = {};\r\n    if (active) {\r\n      activeStyle.backgroundColor = 'gray';\r\n      activeStyle.color = 'black';\r\n    } else {\r\n      activeStyle.backgroundColor = '#E4E5E6';\r\n      activeStyle.color = 'black';\r\n    }\r\n    if (typeof page === 'string') {\r\n      activeStyle.backgroundColor = 'white';\r\n      activeStyle.color = 'black';\r\n    }\r\n    return (\r\n      <li className=\"page-item\">\r\n        <a href=\"#\" className=\"fatty\" onClick={handleClick} style={activeStyle}>{page}</a>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const options = {\r\n    sizePerPage: 10,\r\n    alwaysShowAllBtns: true,\r\n    sizePerPageList: [{\r\n      text: '5',\r\n      value: 5\r\n    }, {\r\n      text: '10',\r\n      value: 10\r\n    }, {\r\n      text: '15',\r\n      value: 15\r\n    }],\r\n    pageButtonRenderer\r\n  };\r\n\r\n  const MySearch = (props) => {\r\n    let input;\r\n    const handleClick = () => {\r\n      props.onSearch(input.value);\r\n    };\r\n    return (\r\n      <div className=\"input-group mb-3\">\r\n        <input type=\"text\" className=\"form-control\" onChange={handleClick} ref={n => input = n} placeholder=\"Поиск машины\" aria-label=\"Car search\" aria-describedby=\"button-addon2\" />\r\n        <div className=\"input-group-append\">\r\n          <button className=\"btn btn-outline-secondary\" type=\"button\" onClick={handleClick} id=\"button-addon2\">Поиск</button>\r\n        </div>\r\n      </div>)\r\n  }\r\n\r\n  const items = props.data\r\n  const selectdCar = selectModel ? `Выбран автомобиль: ${selectModel} года выпуска` : 'Выберите автомобиль'\r\n  return (\r\n    <div>\r\n      <ToolkitProvider\r\n        keyField=\"markModel\"\r\n        bootstrap4\r\n        data={items}\r\n        columns={columns}\r\n        pagination={paginationFactory()}\r\n        search\r\n      >\r\n        {\r\n          props => (\r\n            <div>\r\n              <MySearch {...props.searchProps} />\r\n              <hr />\r\n              <BootstrapTable\r\n\r\n                pagination={paginationFactory(options)}\r\n                {...props.baseProps}\r\n              />\r\n            </div>\r\n          )\r\n        }\r\n      </ToolkitProvider>\r\n      <div className=\"select-car\">\r\n        <p> {selectdCar}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default TableMaker","import CustomSpinner from \"./spinner\";\r\nexport default CustomSpinner","import React from 'react'\r\nimport './spinner.css'\r\nconst CustomSpinner = () =>{\r\n return(\r\n<div className=\"loadingio-spinner-double-ring-n7slsej53rd\"><div className=\"ldio-qfblipbns6e\">\r\n<div></div>\r\n<div></div>\r\n<div><div></div></div>\r\n<div><div></div></div>\r\n</div></div>)\r\n}\r\n\r\nexport default CustomSpinner","import CustomTable from \"./table\";\r\n\r\nexport default CustomTable","import React, { useState, useEffect } from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport TableMaker from './maker';\r\nimport CustomSpinner from '../spinner';\r\n\r\nimport './table.css'\r\n\r\n\r\nconst CustomTable = () => {\r\n   const [error, setError] = useState(null)\r\n   const [isLoaded, setIsLoaded] = useState(false);\r\n   const [items, setItems] = useState([]);\r\n\r\n   useEffect(() => {\r\n      fetch(\"https://city-mobil.ru/api/cars\")\r\n         .then(res => res.json())\r\n         .then(\r\n            (result) => {\r\n               setIsLoaded(true);\r\n               setItems(result.cars);\r\n            }, (error) =>{\r\n               setIsLoaded(true);\r\n               setError(error)\r\n            }\r\n         )\r\n   }, [])\r\n   let innerId = 0\r\n   const getIt = (items) => {\r\n      return {\r\n         comfy: items.tariffs[\"Комфорт\"] ? items.tariffs[\"Комфорт\"].year : \" \",\r\n         stand: items.tariffs[\"Стандарт\"] ? items.tariffs[\"Стандарт\"].year : \" \",\r\n         comfyPlus: items.tariffs[\"Комфорт+\"] ? items.tariffs[\"Комфорт+\"].year : \" \",\r\n         biz: items.tariffs[\"Бизнес\"] ? items.tariffs[\"Бизнес\"].year : \" \",\r\n         eco: items.tariffs[\"Эконом\"] ? items.tariffs[\"Эконом\"].year : \" \",\r\n         mini: items.tariffs[\"Минивен\"] ? items.tariffs[\"Минивен\"].year : \" \",\r\n         light: items.tariffs[\"Лайт\"] ? items.tariffs[\"Лайт\"].year : \" \",\r\n         markModel: `${items.mark} ${items.model}`,\r\n         id: innerId++\r\n      }\r\n   }\r\n\r\n\r\n   if (!isLoaded) {\r\n      return <div className=\"loadWrap\"><CustomSpinner/> </div>;\r\n   } \r\n   else if (error){\r\n      return <div className=\"errorMsg\">Ошибка при получении данных с сервера: {error.message}</div>\r\n   }\r\n   else {\r\n      const items2 = items.map(getIt)\r\n      return (\r\n         <div className=\"left\">\r\n            <TableMaker key={items2.id} data={items2} />\r\n         </div>\r\n      )\r\n    }\r\n}\r\nexport default CustomTable\r\n","import ErrorMsg from \"./error\";\r\nexport default ErrorMsg","import React from 'react';\r\n\r\nimport './error.css'\r\n\r\nconst ErrorMsg = () => {\r\n return (\r\n  <div className=\"error-msg\">\r\n   <h2 className=\"text\"> Произошла ошибка</h2>\r\n  </div>\r\n )\r\n}\r\nexport default ErrorMsg","import ErrorBoundry from \"./errorBound\";\r\nexport default ErrorBoundry","import React, {Component} from 'react'\r\nimport ErrorMsg from '../error'\r\n\r\nexport default class ErrorBoundry extends Component{\r\nstate ={\r\n error: false\r\n}\r\n\r\ncomponentDidCatch(){\r\n this.setState({error: true})\r\n}\r\n\r\nrender(){\r\n if(this.state.error){\r\n return <ErrorMsg/>} return this.props.children\r\n}\r\n\r\n\r\n}","import './App.css';\nimport CustomTable from '../table/';\nimport ErrorBoundry from '../errorBound';\n\nfunction App() {\n  \n  return (\n    \n\n    <ErrorBoundry>\n      <div className=\"App\">\n        <div className=\"content\">\n          <div className=\"head\">\n            <div className=\"labels\"> <h2 className=\"font\"> Header</h2></div>\n          </div>\n          <div className=\"sidebar\">\n          </div>\n          <CustomTable />\n        </div>\n        <div className=\"footer\">\n          <div className=\"labels\"><h2 className=\"font\">Footer</h2></div>\n        </div>\n      </div>\n    </ErrorBoundry>\n      \n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nReactDOM.render(\n  \n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}